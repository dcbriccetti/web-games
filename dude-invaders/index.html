<!doctype html> 
<html lang="en"> 
    <head> 
        <meta charset="UTF-8" />
        <title>Dude Invaders</title>
        <script type="text/javascript" src="js/phaser.min.js"></script>
    </head>
    <body>

        <h1>Dude Invaders</h1>

        <script type="text/javascript">

            var game = new Phaser.Game(800, 600, Phaser.AUTO, '', {
                preload: preload, create: create, update: update
            });

            function preload() {
                game.load.image('dude', 'assets/dude.png');
            }

            var player;
            var cursors;

            function create() {
                game.stage.backgroundColor = '303030';
                game.physics.startSystem(Phaser.Physics.P2JS);

                for (var x = 0; x < 10; ++x) {
                    for (var y = 0; y < 4; ++y) {
                        player = game.add.sprite(x * 60 + 40, y * 60 + 40, 'dude');
                        game.physics.p2.enable(player);
                    }
                }

                cursors = game.input.keyboard.createCursorKeys();
            }

            function update() {
                var moveAmt = 200;
                player.body.setZeroVelocity();

                if (cursors.left.isDown) {
                    player.body.moveLeft(moveAmt);
                }
                if (cursors.right.isDown) {
                    player.body.moveRight(moveAmt);
                }
                if (cursors.up.isDown) {
                    player.body.moveUp(moveAmt);
                }
                if (cursors.down.isDown) {
                    player.body.moveDown(moveAmt);
                }
            }

        </script>

    </body>
</html>